Tech rally lifts US stocks to record highs