US stocks nearly flat; S&P 500 notches 5th weekly gain