US stocks post worst day of the year after China devalues its currency